"use strict";var restartProgressDialog=void 0;$(document).ready(function(){restartProgressDialog=$zUI.modal("#zoiaRestartProgressDialog",{bgClose:!1,escClose:!1}),$("#zoia_dashboard_restart").click(function(){$zUI.modal.confirm(lang["System will be restarted. Are you sure you wish to continue?"],{labels:{ok:lang.Yes,cancel:lang.Cancel}}).then(function(){$("#zoiaSpinnerMain").show(),$.ajax({type:"GET",url:"/api/dashboard/restart",cache:!1}).done(function(t){$("#zoiaSpinnerMain").hide(),t&&1===t.status?(restartProgressDialog.show(),setTimeout(function(){location.href="?_="+Date.now()},3e4)):$zUI.notification(lang["Could not restart Zoia"],{status:"danger",timeout:1500})}).fail(function(){$("#zoiaSpinnerMain").hide(),$zUI.notification(lang["Could not restart Zoia"],{status:"danger",timeout:1500})},200)})}),$("#zoia_settings").submit(function(t){t.preventDefault();var a={protocol:$("#zoia_settings_protocol").val(),title:{},titleShort:{},url:{},email:{noreply:$("#zoia_settings_email_noreply").val().trim(),feedback:$("#zoia_settings_email_feedback").val().trim()}};for(var i in langs)a.title[langs[i]]=$('.zoia-settings-title[data="'+langs[i]+'"]').val().trim(),a.titleShort[langs[i]]=$('.zoia-settings-title-short[data="'+langs[i]+'"]').val().trim(),a.url[langs[i]]=$('.zoia-settings-url[data="'+langs[i]+'"]').val().trim();$("#zoiaSpinnerMain").show(),$.ajax({type:"POST",url:"/api/dashboard/settings/save",data:{config:a},cache:!1}).done(function(t){$("#zoiaSpinnerMain").hide(),t&&1===t.status?$zUI.notification(lang["Settings are saved"],{status:"success",timeout:1500}):$zUI.notification(lang["Could not save settings"],{status:"danger",timeout:1500})}).fail(function(){$("#zoiaSpinnerMain").hide(),$zUI.notification(lang["Could not save settings"],{status:"danger",timeout:1500})},200)}),$(".zoia-maintenance").click(function(){$("#zoiaSpinnerMain").show(),$.ajax({type:"POST",url:"/api/dashboard/settings/maintenance",data:{enabled:$("#zoia_maintenance_on").hasClass("za-active")},cache:!1}).done(function(t){$("#zoiaSpinnerMain").hide(),t&&1===t.status?$zUI.notification(lang["Settings are saved"],{status:"success",timeout:1500}):$zUI.notification(lang["Could not save settings"],{status:"danger",timeout:1500})}).fail(function(){$("#zoiaSpinnerMain").hide(),$zUI.notification(lang["Could not save settings"],{status:"danger",timeout:1500})},200)})});